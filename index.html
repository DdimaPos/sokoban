<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c&family=Noto+Sans:ital,wght@0,400;1,400;1,700&display=swap" rel="stylesheet">   
    <title>Sokoban</title>
</head>
<body>
    <header>
        <div class="japan__name">
            <div class="japan__name__title">倉庫番</div>
            <div class="japan__name__subtitle">Так пишется слово soko-ban по-японски</div>
        </div>
    </header>
    <main>
        <div class="wrapper">
            <div class="introduction">
                <h2>
                    Бизнес-идиллия с драматическим концом
                </h2>
                <div class="text">
                    Представим себе обычную фирму, занимающуюся поставками, например, компьютерной техники. У фирмы есть склад, где хранятся контейнеры, коробки и другие ёмкости разного размера с этой самой техникой. Представим обычного среднестатистического менеджера, который нашёл покупателя на технику, договорился с ним и сообщил на склад, что завтра в такое-то время прибудет фура — забирать товар. Представим себе диспетчера склада, который получил заказ от менеджера и понимает, что фура ждать не будет. Завтра к назначенному времени товар должен быть собран в непосредственной близости от погрузочного пандуса. Диспетчер проверил наличие товара по компьютерной базе: товар есть в наличии, лежит себе, миленький, пылится где-то на полках. Теперь дело за кладовщиком Васей. Кладовщик Вася сидит мирно у себя в каморке, разгадывает кроссворд, или жуёт лапшу быстрого приготовления, или занимается ещё чем-то интеллектуальным. В общем, отрывается человек и не знает, какая грозная туча над ним нависла.
                    Диспетчер одним своим взглядом свергает Васю с небес на землю. Вася знает, что явление диспетчера с бумажками в руках ничего хорошего не предвещает. А тут ещё погрузчик как назло сломался. И остаётся наш кладовщик Вася один на один со списком товаров. Так из трагедии маленького человека, который оказывается крайним в борьбе сильных мира сего, родилась бессмертная игра <span class="highlight">сокобан</span>.
                </div>
                <div class="image">
                    <center><img src="img/sokoban.gif" alt="здесь должна была быть GIF с геймплеем"></center>
                    <div class="image__subtitle">Процесс игры</div>
                </div>
            </div>
            <div class="history">
                <h2>История и немного философии</h2>
                <div class="text">Сокобан (кстати, многие источники указывают на то, что правильнее писать soukoban — так ближе к языку оригинала) родом из Японии. Вполне понятно, почему подобная игра появилась именно в Японии — стране восходящего солнца, самураев и трудоголиков. В ней так и чувствуется влияние японского «осс» — «терпи».</div>
                <details class="spoiler">
                    <summary>OCC</summary>
                    <p>В современном каратэ-до «осс» означает «терпение, уважение и признательность». Чтобы развивать сильное тело и сильный дух, необходимы жёсткие тренировки, которые выдержать трудно. Каратисту приходится заставлять, «подталкивать» себя к тому, что он считает своим пределом. Ему хочется остановиться, но нужно бороться со своей слабостью и заставить себя победить. Чтобы сделать это, каратист должен проявить упорство, волю, а прежде всего — терпение. Это терпение и есть «осс».</p>
                </details>
                <div class="text">Терпение — это как раз то, что понадобится кладовщику — главному герою игры — на пути к заветной цели. Кстати, слово «soko-ban» — японское и переводится именно как «кладовщик». Правила игры просты и изящны как всё гениальное. На складе сложной конфигурации (в большинстве описаний его называют «лабиринтом», и это истинная правда) находится кладовщик и ящики. Все ящики необходимо поставить на конечные позиции (обычно они обозначаются ромбиками). Ящики можно только толкать, но нельзя тянуть. Кроме того, нельзя толкать больше одного ящика. Запрёшь ящик в угол — уже никогда его оттуда не вытащишь — придётся начинать всё с начала. Придвинешь один ящик вплотную к другому — и сдвинуть его сможешь, только подойдя к нему сбоку. Если, конечно, не помешают стенки. Или другие ящики.</div>
                <div class="text">Изобретена игра была в далёком 1980 году и довольно быстро её портировали сначала на Nintendo, а потом и на все известные платформы.</div>
                <div class="text">Позже под руководством изобретателя этой игры было выпущено несколько официальных сиквелов, главными из которых считаются Sokoban Perfect (1989) и Sokoban Revenge (1991). Они содержат по 360 уровней. Официальная страница игры сокобан находится по адресу <a href="https://www.sokoban.jp." class="link">www.sokoban.jp.</a> К сожалению, она имеет только японскую версию.</div>
                <div class="image">
                    <center><img src="img/sokoban_site.png" alt="здесь должна была быть главная страница того сайта"></center>
                    <div class="image__subtitle">Главная страница сайта</div>
                </div>
            </div>
            <div class="science">
                <h2>Научная сторона вопроса</h2>
                <div class="text">Сокобан — игра логическая, стоит в одном ряду с кубиком Рубика, шашками и даже шахматами. Простые, можно даже сказать, элегантные правила — вершина айсберга. В глубине — сложная математическая теория. Поэтому нет ничего удивительного, что игрой заинтересовались учёные. Наверное, несчастный кладовщик Вася очень бы удивился, если б узнал, что его действия можно изучать с точки зрения теории вычислительной сложности. Задача решения этой головоломки относится к так называемым NP-трудным задачам, как часть более общего класса задач планирования движения (в общем случае Вася будет иметь право не только толкать, но и тянуть, и не один, а сразу несколько ящиков). Сокобан представляет интерес и для исследователей искусственного интеллекта: хорошо бы построить такого робота, который выполнял бы задачу Васи и, перемещая ящики по лабиринту, ставил их на определённые места. При этом нужно, чтобы он выполнял свою задачу в оптимально короткие сроки за минимальное количество шагов.
                </div>
                <div class="image">
                    <center><img src="img/cover.jpg" alt="здесь должна была быть перавя обложка игры"></center>
                    <div class="image__subtitle">Обложка игры 1984 года</div>
                </div>
                <div class="text">Трудность прохождения сокобана заключается не только в уровне ветвления дерева вариантов ходов (многие исследователи сравнивают эту игру по сложности с шахматами), но и в огромной глубине поиска по этому дереву. Для того чтобы найти верное решение, требуется перебрать очень много вариантов. Необходимое количество «правильных» ходов, ведущих к выигрышу, на некоторых уровнях может достигать тысячи. Однако опытные игроки, вооружённые эвристикой, могут быстро отсеять в мозгу заведомо тупиковые варианты, тем самым существенно сузив область поиска.</div>
                <div class="text">Некоторые (заметьте, только некоторые) уровни игры могут быть решены «автоматически», с помощью определённых итерационных поисковых алгоритмов. С этой целью, например, была создана программа Rolling Stone, которая умеет самостоятельно проходить некоторые уровни сокобана. Она была разработана в недрах <a href="http://www.cs.ualberta.ca/~games" class="link">GAMES Group</a> Университета Альберты (одной из провинций Канады). Сложные же уровни сокобана всё ещё не поддаются «автоматическому» прохождению.</div>
                <div class="image">
                    <center><img src="img/JSoko.jpg" alt="здесь должна была быть JSoko — Java-приложение для решения и оптимизации уровней сокобана"></center>
                    <div class="image__subtitle">JSoko — Java-приложение для решения и оптимизации уровней сокобана</div>
                </div>
            </div>
            <div class="strategy">
                <div class="text">Кроме главной задачи головоломки — расставить ящики по своим местам — существует ещё две задачи для игрока: минимизировать перемещения ящиков по лабиринту и число движений кладовщика. Решение этих задач уже схоже с решением шахматных этюдов — правила те же, но игра обрастает дополнительными условиями. В общем, стратегия ходов осваивается игроком с первых минут игры. Есть несколько действий, которые нельзя совершать ни при каких обстоятельствах:
                    <ul>
                        <li>нельзя допускать, чтобы два ящика оказались друг рядом с другом у стены (вы никогда их не вытащите оттуда: тянуть ящики нельзя, толкать два ящика — тоже);</li>
                        <li>нельзя задвигать ящик в угол;</li>
                        <li>нельзя сдвигать ящики в квадрат 2x2.</li>
                    </ul>
                Кроме того, могут возникнуть такие ситуации, когда ящиками будет заблокирована определённая область лабиринта. И любая попытка разблокировать эту область, подвинув ящик, приведёт к одной из описанных выше ситуаций.
                </div>
                <div class="image">
                    <center><img src="img/Yasc.png" alt="здесь должен быть редактор уровней Sokoban YASC"></center>
                    <div class="image__subtitle">Редактор уровней Sokoban YASC</div>
                </div>
                <div class="text">Вообще, игра сокобан — хороший экзамен на логическое мышление. Действует лучше и надёжнее всяческих многочисленных тестов. Причём для этого вовсе не обязательно владеть сложным арсеналом приёмов и стратегий. Достаточно освоить только несколько несложных правил.</div>
                <div class="text">Универсального алгоритма решения этой головоломки фактически не существует. Однако есть программы, которые позволяют упростить решение: вычислить предположительно правильные ходы на определённую глубину, помочь в записи решения на диск. Если забыть про математический формализм, существует ряд программ, которые с полным правом могут носить название «solver». Они действительно умеют решать многие, даже не самые простые уровни. Но и у них есть предел.</div>
                <div class="text">В мире шахмат существуют определённые правила записей ходов и позиций на доске. В мире сокобана тоже выработаны такие правила. План уровня и первоначальное положение объектов записывается в обычном текстовом файле с помощью следующих символов: «#» — стены, «.» — пустое место, куда надо поставить ящик (так называемая «цель»), «@» — кладовщик, «+» — кладовщик, который стоит на той клетке, где находится одна из целей, «$» — ящик на пустом месте, «*» — ящик на одной из целей. Такой формат записи получил название «XSB File Format». Файлы этого формата могут иметь расширения: xsb, sok, rdf, lp0, dat, pak и даже просто txt. Этот формат хранения уровней вы найдёте во многих клонах сокобана.</div>
                <div class="text">За годы своего существования сокобан превратился из простой логической игрушки в культовый объект. С каждым годом появляются всё новые и новые версии этой игры. По нему пишут диссертации и научные статьи. Он оброс различными вспомогательными программами и файловыми форматами. Ну и кроме всего прочего, сокобан — это неплохой способ убить время и потренировать мозги.</div>
                <div class="sources">Информация была взята из журнала «Компьютерра» 24 июля 2007.</div>
            </div>
            <div class="text__game">Ниже представлена авторская версия игры сокобан. Наслаждайтесь :)</div>
            <div class="game__body">
                <div class="game__buttons">
                    <div class="game">
                        <div class="game__header">
                            <table class="table">
                                <tr>
                                    <th>Level № <span id="spanN"></span></th>
                                    <th>Boxes <span id="spanBox">0/0</span></th>
                                    <th>Moves <span id="spanMoves">0(0)</span></th>
                                </tr>
                            </table>
                        </div>
                        <div class="win">
                            <div>Win!</div>
                        </div>
                        <div class="end">
                            <div>You are the best!!!</div>
                        </div>
                       
                        <canvas id="canvas"> 
                        </canvas>
                    </div>
                    <div class="choose__level">
                        <button class="choose__level__back">Previous Level</button>
                        <button class="choose__level__next">Next Level</button>    
                    </div>
                    <div class="previous__move"><button>Back</button></div>
                </div>
                <div class="grid__controls">
                    <div class="grid__content"></div>
                    <div class="grid__content">
                        <div class="grid__button W">W</div>
                    </div>
                    <div class="grid__content"></div>
                    <div class="grid__content"></div>
                    <div class="grid__content">
                        <div class="grid__button A">A</div>
                    </div>
                    <div class="grid__content">
                        <div class="grid__button S">S</div>
                    </div>
                    <div class="grid__content">
                        <div class="grid__button D">D</div>
                    </div>
                    <div class="grid__content">Controls</div>
                    <div class="grid__content"></div>
                    <div class="grid__content"></div>
                    <div class="grid__content"></div>
                    <div class="grid__content"></div>
                    <div class="grid__content"></div>
                    <div class="grid__content">
                        <div class="grid__button B">B</div>
                    </div>
                    <div class="grid__content">Back</div>
                    <div class="grid__content"></div>  
                </div>
            </div>

        </div>
    </main>
    <script src="js/script.js"></script>
</body>
</html>